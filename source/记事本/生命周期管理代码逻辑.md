#### 代码位置

控制层：com.snc.sqlaudit.controller.logmanage

业务层：com.snc.sqlaudit.service.logmanage

持久层：com.snc.sqlaudit.mapper.logmanage

前端：page.logmanage

#### 关联表

mysql : 
es_lifecycle周期表
```sql
CREATE TABLE `es_lifecycle` (
  `id` varchar(32) NOT NULL COMMENT '主键ID',
  `dbname` varchar(255) NOT NULL COMMENT 'es的前缀，类似于数据库的库名',
  `tablename` varchar(255) NOT NULL DEFAULT '' COMMENT 'es的二级前缀，类似于数据库的表名',
  `tablename_cn` varchar(255) DEFAULT '' COMMENT '表中文名称',
  `period_type` tinyint(4) DEFAULT '1' COMMENT '日表 1， 月表 2 默认日表',
  `save_day` int(4) DEFAULT '-1' COMMENT '保存天数',
  `hbase_day` int(4) DEFAULT '-1',
  `analyzer` varchar(255) DEFAULT 'ik_smart',
  `replicas` int(4) DEFAULT '1',
  `shards` int(4) DEFAULT '5',
  `life_status` tinyint(4) DEFAULT '0' COMMENT ' 启停状态  1.启用，0.停止',
  `is_merit` tinyint(4) DEFAULT '0' COMMENT ' 数据来源是否是指标 1.是，0.不是',
  `querytime` varchar(50) DEFAULT '',
  `fieldstr` varchar(4000) DEFAULT NULL COMMENT '字段数组JSONArray.fromObject(Field)',
  `slicing_type` varchar(255) DEFAULT NULL COMMENT '模板',
  `rule_type_config` varchar(255) DEFAULT NULL COMMENT '指标类型',
  `rule_type` varchar(255) DEFAULT NULL COMMENT '指标模板',
  `start_pattern` varchar(1024) DEFAULT '' COMMENT '模板类型行开始符',
  `update_time` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `dbname` (`dbname`,`tablename`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

```
es_lifecycle_field 字段表
```sql
CREATE TABLE `es_lifecycle_field` (
  `id` varchar(128) NOT NULL COMMENT 'id',
  `tablename` varchar(255) NOT NULL COMMENT '表名',
  `fieldtype` int(8) DEFAULT '0' COMMENT '字段类型，-1是固定字段, 0是其它字段',
  `keyword` varchar(255) NOT NULL COMMENT '字段',
  `keywordname` varchar(255) DEFAULT '' COMMENT '字段中文名',
  `estype` varchar(255) DEFAULT 'keyword' COMMENT 'es类型',
  `format` varchar(255) DEFAULT '' COMMENT '格式',
  `enableshow` varchar(8) DEFAULT '0' COMMENT '是否展示字段',
  `number` int(8) DEFAULT '999' COMMENT '字段排序',
  PRIMARY KEY (`id`),
  UNIQUE KEY `tablename` (`tablename`,`keyword`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='ES表字段';
```