---
title: 流式架构：Kafka与MapR Streams数据流处理
date: 2020-12-28 14:30:13
categories: [Streaming]
toc: true
mathjax: true
top: 98
tags:
  - ※※
  - ✰✰
  - OReilly
---

书名高大上，实际没啥看点

{% asset_img label cover.jpg %}{% asset_img label cover_en.jpg %}

![](流式架构：Kafka与MapR-Streams数据流处理/cover.jpg)![](流式架构：Kafka与MapR-Streams数据流处理/cover_en.jpg)


<!-- more -->

## 流式架构：Kafka与MapR Streams数据流处理

- > Kafka 集群能够处理的主题数目是有限的，达到 1000 个主题左右时，性能就开始下降。这些问题基本上都跟 Kafka 的基本实现决策有关。特别是，随着主题数目增加，代理上的随机 1/0 量急剧增加，因为每个主题分区的写操作本质上都是一个单独的文件追加（ append ）操作。随着分区数目增加，问题越来越严重，如果Kafka 不接管 I/O 调度，问题很难解决。除了分区数目的有限性以外，还可能存在其他限制，而且有些限制相当严重。比如，单个进程打开文件，文件描述符的数目通常是有限的。

- > 在 Kafka 中， 一个分区副本（ partition replica ）必须在一个机器上，而不能在多台机器上分割存储。随着分区不断增长，集群中有的机器运气不好，会正好被分配几个大分区。Kafka 没有自动迁移这些分区的机制，因此你不得不自己来。监控磁盘空间，诊断引起问题的是哪个分区，然后确定一个合适的地方迁移分区，这些全都是手动管理性任务，在 Kafka 集群产品环境中不容忽视。

- > 镜像的不足Kafka 的镜像系统非常简单一一对很多企业应用来说，有点过于简单了：简单地将消息转发给镜像集群，源集群的偏移量在目的集群中不再有效。 也就是说，生产者和消费者不能从集群故障转移（ fai l over ）到镜像。企业系统通常要求具备故障转移能力，否则可能完全丧失 Kafka 的优势。

